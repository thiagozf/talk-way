<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />

    <title>[Talk] Construindo o Way</title>

    <meta
      name="description"
      content="A framework for easily creating beautiful presentations using HTML"
    />
    <meta name="author" content="Thiago Zanivan Felisberto" />

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" href="css/reset.css" />
    <link rel="stylesheet" href="css/reveal.css" />
    <link rel="stylesheet" href="css/theme/way.css" id="theme" />

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/monokai.css" />

    <!-- Printing and PDF exports -->
    <script>
      var link = document.createElement("link");
      link.rel = "stylesheet";
      link.type = "text/css";
      link.href = window.location.search.match(/print-pdf/gi)
        ? "css/print/pdf.css"
        : "css/print/paper.css";
      document.getElementsByTagName("head")[0].appendChild(link);
    </script>

    <!--[if lt IE 9]>
      <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
  </head>

  <body>
    <div class="reveal">
      <!-- Any section element inside of this container is displayed as a slide -->
      <div class="slides">
        <section>
          <h1 class="orange">
            Way
          </h1>
          <p>
            Arquitetura, tecnologias e<br />
            desafios t√©cnicos
          </p>
        </section>

        <section>
          <h3>Thiago Zanivan Felisberto</h3>
          <p>Software Engineer @ Way</p>
          <a href="www.thiagozf.com">thiagozf.com</a>
        </section>

        <section>
          <h2 class="orange">Processo de desenvolvimento</h2>
          <pre><code class="ts">
function desenvolvePraNois(ideias: string[]) {
  let pronto: boolean
  do {
    const requisitos = extrairRequisitos(ideias)
    const tecnologias = selecionarTecnologias(requisitos)
    const produto = implementar(requisitos, tecnologias)
    // TODO: automatizar o que for poss√≠vel!
    pronto = validar(produto)
  } while (!pronto) // nunca fica pronto ¬Ø\_(„ÉÑ)_/¬Ø
}
					</code></pre>
        </section>

        <section>
          <h2 class="orange">Fase 1</h2>
          <p>Extrair requisitos</p>
        </section>

        <section
          data-background-image="assets/produto.png"
          data-transition="slide"
          data-background-transition="convex"
          class="left"
        >
          <h4 class="fragment orange">Palavras-chave</h4>
          <ul>
            <li class="fragment">Plataforma</li>
            <li class="fragment">Landing pages</li>
            <li class="fragment">P√°ginas din√¢micas</li>
            <li class="fragment">Sem desenvolvedor</li>
            <li class="fragment">Analytics/dados</li>
          </ul>
        </section>

        <section>
          <h2 class="orange">Requisitos funcionais</h2>
          <ol>
            <li>Editor de p√°ginas para usu√°rios n√£o t√©cnicos</li>
            <li>Renderizador de p√°ginas (server-side)</li>
            <li>Proxy reverso e roteamento para as p√°ginas</li>
            <li>Coletar e tratar dados de analytics</li>
            <li>Templates para facilitar cria√ß√£o de p√°ginas</li>
            <li>Gerenciamento b√°sico de conta e assinatura</li>
            <li>Gerenciamento b√°sico de p√°ginas</li>
          </ol>
        </section>

        <section>
          <h2 class="orange">Requisitos n√£o-funcionais</h2>
          <ol>
            <li>Modelo SaaS</li>
            <li>Escalabilidade</li>
            <li>Custo</li>
            <li>Disponibilidade</li>
            <li>Tempo de resposta</li>
            <li>Time to market</li>
          </ol>
        </section>

        <section>
          <h2 class="orange">Fase 2</h2>
          <p>Selecionar tecnologias</p>
        </section>

        <section>
          <h4 class="orange">Premissas</h4>
          <ul>
            <li>Usar a melhor ferramenta para o trabalho</li>
            <li>
              Problemas v√£o acontecer (evite
              <a href="https://batmanjs.org/">batman.js</a>)
            </li>
            <li>Se j√° est√° pronto e funciona, use!</li>
            <li>Ecossistema que j√° √© utilizado pela empresa</li>
          </ul>
        </section>

        <section>
          <img class="stack" src="assets/aws-logo.png" />
          <img class="stack" src="assets/serverless-logo.jpg" />
          <img class="stack" src="assets/github-logo.png" />
          <img class="stack" src="assets/slack-logo.png" />
          <br />
          <img class="stack" src="assets/ts-logo.png" />
          <img class="stack" src="assets/graphql-logo.png" />
          <img class="stack" src="assets/next-logo.png" />
          <img class="stack" src="assets/react-logo.png" />
        </section>

        <section>
          <img width="100" src="assets/aws-logo.png" />
          <h3 class="orange">Amazon Web Services</h3>

          <ul>
            <li>Provedor de servi√ßos cloud</li>
            <li>Servi√ßos altamente escal√°veis</li>
            <li>Custos baseados em uso (sob demanda)</li>
          </ul>

          <aside class="notes">
            <ul>
              <li>
                Exemplos de servi√ßos: computa√ß√£o (processamento e mem√≥ria),
                armazenamento e bancos de dados
              </li>
              <li>
                Como os servi√ßos s√£o cloud native e foram pensados para o cloud,
                √© altamente escal√°vel
              </li>
              <li>Como √© sob demanda, custo efetivo (n√£o usa = n√£o paga)</li>
              <li>
                Provider mais utilizado (e portanto mais documenta√ß√£o/f√≥rums) e
                que temos experi√™ncia
              </li>
            </ul>
          </aside>
        </section>

        <section>
          <img width="100" src="assets/lambda-logo.png" />
          <h4 class="orange">AWS Lambda</h4>

          <ul>
            <li>
              Servi√ßo de computa√ß√£o <b class="orange">serverless</b> e
              <b class="orange">stateless</b>
            </li>
            <li>
              Executa peda√ßos de c√≥digo - chamados de
              <b class="orange">fun√ß√µes Lambda</b> - dentro de containers, que
              s√£o iniciados sob demanda para responder a eventos
            </li>
          </ul>

          <aside class="notes">
            Serverless se refere a aplica√ß√µes onde o gerenciamento e aloca√ß√£o de
            recursos de servidor s√£o completamente gerenciados pelo provedor
            cloud. Normalmente, a cobran√ßa √© feita com base no uso/consumo
            destes recursos.
          </aside>
        </section>

        <section>
          <img src="assets/lambda-function.png" />

          <aside class="notes">
            <ul>
              <li>
                Context: informa√ß√µes sobre a invoca√ß√£o, fun√ß√£o e ambiente de
                execu√ß√£o
              </li>
            </ul>
          </aside>
        </section>

        <section>
          <img width="100" src="assets/s3-logo.png" />
          <h4 class="orange">S3</h4>

          <ul>
            <li>Amazon Simple Storage Service (<b class="orange">S3</b>)</li>
            <li>Servi√ßo para armazenamento e recupera√ß√£o de dados</li>
            <li>Pode armazenar qualquer coisa</li>
          </ul>

          <aside class="notes">
            Textos, objetos JSON, dados - arquivos em geral
          </aside>
        </section>

        <section>
          <img width="100" src="assets/dynamo-logo.png" />
          <h4 class="orange">DynamoDB</h4>

          <ul>
            <li>
              Banco de dados <b class="orange">chave-valor</b> com suporte a
              estruturas de <b class="orange">documentos</b>
            </li>
            <li>Distribu√≠do e replicado globalmente</li>
            <li>Change Data Capture (CDC)</li>
            <li>√çndices sobre as chaves</li>
          </ul>

          <aside class="notes">
            Serverless se refere a aplica√ß√µes onde o gerenciamento e aloca√ß√£o de
            recursos de servidor s√£o completamente gerenciados pelo provedor
            cloud. Normalmente, a cobran√ßa √© feita com base no uso/consumo
            destes recursos.
          </aside>
        </section>

        <section data-background-image="assets/aws-diagram.png"></section>

        <section>
          <img height="100" src="assets/react-logo.png" />
          <h3 class="orange">React</h3>

          <ul>
            <li>
              Modelo de componentes parece ter sido pensado para o nosso caso de
              uso!
            </li>
            <li>Foco em performance de renderiza√ß√£o</li>
            <li>Suporte a server-side rendering</li>
            <li>Comunidade de milh√µes de desenvolvedores</li>
          </ul>
        </section>

        <section>
          <pre><code class="hljs" data-trim data-line-numbers="1|4|9|4,8-11">
import React, { useState } from 'react';

function Example() {
  const [count, setCount] = useState(0);

  return (
    &lt;div&gt;
      &lt;p&gt;You clicked {count} times&lt;/p&gt;
      &lt;button onClick={() =&gt; setCount(count + 1)}&gt;
        Click me
      &lt;/button&gt;
    &lt;/div&gt;
  );
}
					</code></pre>
        </section>

        <section>
          <img height="100" src="assets/next-logo.png" />
          <h3 class="orange">Next.js</h3>

          <ul>
            <li>
              Framework para constru√ß√£o de aplica√ß√µes React (alternativa ao
              create-react-app)
            </li>
            <li>Next.js üß° Serverless</li>
            <li>Torna a implementa√ß√£o de SSR trivial</li>
            <li>Altamente customiz√°vel</li>
          </ul>
        </section>

        <section>
          <pre><code class="js" data-trim data-line-numbers="3|4-9|12">
import React, { useEffect } from 'react'

export const getServerSideProps = async ({ query }) => {
  const { url = 'home' } = query
  return {
    props: {
      page: getPage(url)
    }
  }
}

export default ({ page }) => { ... }
					</code></pre>
        </section>

        <section>
          <img height="100" src="assets/ts-logo.png" />
          <h3 class="orange">TypeScript</h3>

          <ul>
            <li>Linguagem de programa√ß√£o back e front-end</li>
            <li>TS üß° React, Next.js e Serverless</li>
            <li>
              Tipos, que em latim significa "menos tempo perdido com bugs
              est√∫pidos"
            </li>
          </ul>
        </section>

        <section>
          <img height="100" src="assets/graphql-logo.png" />
          <h3 class="orange">GraphQL</h3>

          <ul>
            <li><em>Query language</em> para APIs</li>
            <li>Alternativa ao REST</li>
            <li>Schema funciona como um contrato entre o cliente o servidor</li>
          </ul>
        </section>

        <section>
          <h3 class="orange">Schema</h3>
          <pre><code class="graphql" data-trim data-noescape>
type Item {
  name: String!
  price: Int!
  quantity: Int
}

type Query {
  items: [Item]
}

type Mutation {
  buyItem(input: BuyItemInput!): BuyItemOutput!
}
					</code></pre>
        </section>

        <section>
          <h3 class="orange">Queries</h3>
          <p>Equivalente ao <span class="orange">GET</span> do REST</p>
          <pre><code class="graphql" data-trim data-noescape>
query {
  items {
    name
    price
  }
}
					</code></pre>
        </section>

        <section>
          <h3 class="orange">Queries</h3>
          <pre><code class="js" data-trim data-noescape>
{
  "data": {
    "items": [
      {
        "name": "Pok√© Ball",
        "price": "200"
      }, 
      {
        "name": "Super Potion",
        "price": "200"
      }
    ]
  }
}
					</code></pre>
        </section>

        <section>
          <h3 class="orange">Mutation</h3>
          <p>
            Equivalente a
            <span class="orange">POST - PUT - PATCH - DELETE</span>
          </p>
          <pre><code class="graphql" data-trim data-noescape>
mutation {
  buyItem(input: { name: 'Pok√© Ball', quantity: 10}) {
    success
  }
}
					</code></pre>
        </section>

        <section>
          <h2 class="orange">Fase 3</h2>
          <p>Implementar</p>
        </section>

        <section>
          <p>{ hora de mostrar c√≥digo }</p>
        </section>

        <section>
          <h2 class="orange">Fase 4</h2>
          <p>Deploy e automa√ß√£o</p>
        </section>

        <section>
          <img height="100" src="assets/serverless-logo.jpg" />
          <h3 class="orange">Serverless</h3>

          <ul>
            <li>Framework para desenvolvimento de solu√ß√µes serverless</li>
            <li>Infra como c√≥digo (YAML + JavaScript)</li>
            <li>Modelo de componentes</li>
          </ul>
        </section>

        <section>
          <h3 class="orange">Serverless</h3>
          <pre><code class="yml" data-trim data-noescape>
name: meu-app-serverless

db:
  component: @serverless/dynamodb@2.0.1

website:
  component: @serverless/website@2.0.5
  inputs:
    code: ./src
    env:
      DYNAMO_TABLE: ${outputs:${stage}:${app}:db.name}
					</code></pre>
        </section>

        <section>
          <h3 class="orange">Serverless</h3>
          <pre><code class="js" data-trim data-noescape>
// serverless.js
const { Component } = require('@serverless/core')
const website = require('@serverless/website')

class Blog extends Component {
  async default(inputs) {
    // Algum tratamento sobre os inputs...
    const outputs = await website({ code: './blog' })
    return outputs
  }
}
					</code></pre>
        </section>

        <section>
          <img height="100" src="assets/github-logo.png" />
          <h3 class="orange">GitHub</h3>

          <ul>
            <li>Controle de releases, environments e deploys</li>
            <li>Integra√ß√£o cont√≠nua (CI) atrav√©s do Actions</li>
          </ul>
        </section>

        <section>
          <img height="100" src="assets/slack-logo.png" />
          <h3 class="orange">Slack</h3>

          <ul>
            <li>Hub de comunica√ß√£o da equipe</li>
            <li>Central de comandos (Way Slack Bot)</li>
          </ul>
        </section>

        <section>
          <h2 class="orange">What's next?</h2>
        </section>

        <section data-background-image="assets/data-lake.png"></section>

        <section>
          <div>
            <h2 class="orange">Obrigado!</h2>
            <img
              height="200"
              style="right: 0; top: 0"
              src="assets/qrcode.png"
            />
          </div>
        </section>

        <p class="footer orange">@thiagozf</p>
      </div>
    </div>

    <script src="js/reveal.js"></script>

    <script>
      // More info https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        controls: true,
        progress: true,
        center: true,
        hash: true,

        transition: "fade", // none/fade/slide/convex/concave/zoom
        backgroundTransition: "fade",

        // More info https://github.com/hakimel/reveal.js#dependencies
        dependencies: [
          {
            src: "plugin/markdown/marked.js",
            condition: function() {
              return !!document.querySelector("[data-markdown]");
            }
          },
          {
            src: "plugin/markdown/markdown.js",
            condition: function() {
              return !!document.querySelector("[data-markdown]");
            }
          },
          { src: "plugin/highlight/highlight.js" },
          { src: "plugin/search/search.js", async: true },
          { src: "plugin/zoom-js/zoom.js", async: true },
          { src: "plugin/notes/notes.js", async: true }
        ]
      });
    </script>
  </body>
</html>
